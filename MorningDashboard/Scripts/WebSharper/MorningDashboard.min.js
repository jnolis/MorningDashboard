(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m;$.Define($$,{MorningDashboard:{Client:{currentTimeBlock:function(){return b.refreshBlock(5,function(){return d.Async("MorningDashboard:0",[]);},function(o){return function(p){var q,r,s,t,u,v,w,x,y;o["HtmlProvider@33"].Clear(o.get_Body());s=h.ofArray([i.Tags().text("Time")]);u=p.Time;t=h.ofArray([i.Tags().text(u)]);w=p.Weekday;v=h.ofArray([i.Tags().text(w)]);y=p.Month+" "+p.Day;x=h.ofArray([i.Tags().text(y)]);r=h.ofArray([g.add(i.Tags().NewTag("div",s),h.ofArray([j.Attr().NewAttr("class","panel-heading")])),i.Tags().NewTag("h2",t),i.Tags().NewTag("h4",v),i.Tags().NewTag("h4",x)]);q=h.ofArray([g.add(i.Tags().NewTag("div",r),h.ofArray([j.Attr().NewAttr("class","panel panel-default")]))]);return o.AppendI(g.add(i.Tags().NewTag("div",q),h.ofArray([j.Attr().NewAttr("class","col-md-6")])));};});},oneBusAwayBlock:function(){var z,W;z=function(A){return function(B){var C,D,E,F,M,N,O,P,Q,R,S,T,U,V;C=[B.RouteTitle,B.Arrivals];D=C[0];E=C[1];F=function(G){var H,I,J,K,L;J=G.Time;I=h.ofArray([i.Tags().text(J)]);L=G.TimeUntil;K=h.ofArray([i.Tags().text(L)]);H=h.ofArray([i.Tags().NewTag("td",I),i.Tags().NewTag("td",K)]);return i.Tags().NewTag("tr",H);};M=h.map(F,E);A["HtmlProvider@33"].Clear(A.get_Body());Q=h.ofArray([i.Tags().text(D)]);P=h.ofArray([i.Tags().NewTag("h4",Q)]);U=h.ofArray([i.Tags().text("ETA")]);V=h.ofArray([i.Tags().text("Minutes")]);T=h.ofArray([i.Tags().NewTag("th",U),i.Tags().NewTag("th",V)]);S=h.ofArray([i.Tags().NewTag("tr",T)]);R=h.append(h.singleton(i.Tags().NewTag("thead",S)),M);O=h.ofArray([g.add(i.Tags().NewTag("div",P),h.ofArray([j.Attr().NewAttr("class","panel-heading")])),g.add(i.Tags().NewTag("table",R),h.ofArray([j.Attr().NewAttr("class","table")]))]);N=h.ofArray([g.add(i.Tags().NewTag("div",O),h.ofArray([j.Attr().NewAttr("class","panel panel-default")]))]);return A.AppendI(g.add(i.Tags().NewTag("div",N),h.ofArray([j.Attr().NewAttr("class","col-md-6")])));};};W=function(){return d.Async("MorningDashboard:2",[]);};return b.refreshBlock(15,W,z);},refreshBlock:function(Y,Z,_0){var _1,_2,_3,_,ba;_1=$.New(k,{$:0});_2=i.Tags().NewTag("div",_1);_3=function(_4){var _5;_5=l.Delay(function(){return l.Bind(Z(null),function(_7){var _8,_9;if(_7.$==1){_9=_7.$0;(_0(_4))(_9);_8=l.Return(null);}else{_8=l.Return(null);}return _8;});});return l.Start(_5,{$:0});};_3(_2);ba=function(){var bc;bc=m(function(){return _3(_2);},Y*1000);return;};g.OnBeforeRender(ba,_2);_=h.ofArray([_2]);return i.Tags().NewTag("div",_);},wundergroundBlock:function(){var bd,bG;bd=function(be){return function(bf){var bg,bh,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF;bg=bf.Forecast;bh=function(bi){var bj,bk,bl,bm,bn,bo,bp,bq;bl=bi.Time;bk=h.ofArray([i.Tags().text(bl)]);bo="wi "+bi.WeatherIcon;bn=h.ofArray([j.Attr().NewAttr("class",bo)]);bm=h.ofArray([i.Tags().NewTag("i",bn)]);bq=bi.Temperature+"°";bp=h.ofArray([i.Tags().text(bq)]);bj=h.ofArray([i.Tags().NewTag("td",bk),i.Tags().NewTag("td",bm),i.Tags().NewTag("td",bp)]);return i.Tags().NewTag("tr",bj);};br=h.map(bh,bg);bv="wi "+bf.Current.WeatherIcon;bu=h.ofArray([j.Attr().NewAttr("class",bv)]);bt=h.ofArray([i.Tags().NewTag("i",bu)]);bx=bf.Current.Temperature+"°";bw=h.ofArray([i.Tags().text(bx)]);bs=h.ofArray([i.Tags().NewTag("h1",bt),i.Tags().NewTag("h4",bw)]);be["HtmlProvider@33"].Clear(be.get_Body());bD=h.ofArray([i.Tags().text("Hour")]);bE=h.ofArray([i.Tags().text("Weather")]);bF=h.ofArray([i.Tags().text("Temperature")]);bC=h.ofArray([i.Tags().NewTag("th",bD),i.Tags().NewTag("th",bE),i.Tags().NewTag("th",bF)]);bB=h.ofArray([i.Tags().NewTag("tr",bC)]);bA=h.append(h.singleton(i.Tags().NewTag("thead",bB)),br);bz=h.ofArray([g.add(i.Tags().NewTag("div",bs),h.ofArray([j.Attr().NewAttr("class","panel-heading")])),g.add(i.Tags().NewTag("table",bA),h.ofArray([j.Attr().NewAttr("class","table")]))]);by=h.ofArray([g.add(i.Tags().NewTag("div",bz),h.ofArray([j.Attr().NewAttr("class","panel panel-default")]))]);return be.AppendI(g.add(i.Tags().NewTag("div",by),h.ofArray([j.Attr().NewAttr("class","col-md-6")])));};};bG=function(){return d.Async("MorningDashboard:1",[]);};return b.refreshBlock(60*15,bG,bd);}}}});$.OnInit(function(){a=$.Safe($$.MorningDashboard);b=$.Safe(a.Client);c=$.Safe($$.WebSharper.Remoting);d=$.Safe(c.AjaxRemotingProvider);e=$.Safe($$.WebSharper.Html);f=$.Safe(e.Client);g=$.Safe(f.Operators);h=$.Safe($$.WebSharper.List);i=$.Safe(f.Tags);j=$.Safe(f.Attr);k=$.Safe(h.T);l=$.Safe($$.WebSharper.Concurrency);return m=$.Safe($$.setInterval);});$.OnLoad(function(){return;});}());
